<%= render "layouts/turbo_modal" do %>
  <h2 class="fus-form-header mb-2 sticky top-0 p-3 z-20 bg-fus-blue text-white shadow-md ">
    <%= t("custom.label.show_detail", model: t("activerecord.models.asset")).capitalize %>
  </h2>

	<div data-action="turbo:submit-end->modal#submitEnd" class="p-8">

    <!-- Asset descriptions -->
    <h3 class="fus-form-header bg-fus-blue text-white p-2 rounded-t">
        <%= t("custom.label.asset_description") %>
    </h3>
    <div class="bg-slate-50 rounded-b">
      <div class="grid grid-cols-2 gap-2 p-4">
        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.attributes.asset.tagging_id") %>
          </label>
          <span class="fus-readonly"><%= @asset.tagging_id %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.attributes.asset.tagging_date") %>
          </label>
          <span class="fus-readonly"><%= @asset.tagging_date.strftime("%Y-%m-%d") %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.models.project") %>
          </label>
          <span class="fus-readonly"><%= @asset.project.name %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.models.site") %>
          </label>
          <span class="fus-readonly"><%= @asset.site.name %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.models.asset_model") %>
          </label>
          <span class="fus-readonly"><%= @asset.asset_model.name %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.models.asset_class") %>
          </label>
          <span class="fus-readonly"><%= @asset.asset_class.blank? ? "-" : @asset.asset_class.name %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.attributes.asset.computer_name") %>
          </label>
          <span class="fus-readonly"><%= @asset.computer_name.blank? ? "-" : @asset.computer_name %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.attributes.asset.computer_ip") %>
          </label>
          <span class="fus-readonly"><%= @asset.computer_ip.blank? ? "-" : @asset.computer_ip %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.attributes.asset.cpu_sn") %>
          </label>
          <span class="fus-readonly"><%= @asset.cpu_sn.blank? ? "-" : @asset.cpu_sn %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.attributes.asset.monitor_sn") %>
          </label>
          <span class="fus-readonly"><%= @asset.monitor_sn.blank? ? "-" : @asset.monitor_sn %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.attributes.asset.keyboard_sn") %>
          </label>
          <span class="fus-readonly"><%= @asset.keyboard_sn.blank? ? "-" : @asset.keyboard_sn %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.attributes.delivery_order_id") %>
          </label>
          <span class="fus-readonly"><%= @asset.delivery_order.blank? ? "-" : @asset.delivery_order.number %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.attributes.shipping_date") %>
          </label>
          <span class="fus-readonly"><%= @asset.shipping_date.blank? ? "-" : @asset.shipping_date.strftime("%Y-%m-%d") %></span>
        </div>

      </div>

      <div class="mb-2 p-4">
        <label class="fus-label">
          <%= t("activerecord.attributes.asset.description") %>
        </label>
        <span class="fus-readonly"><%= @asset.description.blank? ? "-" : @asset.description %></span>
      </div>
      
    </div>

    <!-- User asset -->
    <h3 class="fus-form-header mt-8 bg-fus-blue text-white p-2 rounded-t">
        <%= t("activerecord.models.user_asset") %>
    </h3>

    <div class="bg-slate-50 rounded-b">
      <div class="grid grid-cols-2 gap-2 p-4">
        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.attributes.user_asset.id_user_asset") %>
          </label>
          <span class="fus-readonly"><%= @asset.user_asset.id_user_asset %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.attributes.user_asset.username") %>
          </label>
          <span class="fus-readonly"><%= @asset.user_asset.username.blank? ? "-" : @asset.user_asset.username %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.attributes.user_asset.email") %>
          </label>
          <span class="fus-readonly"><%= @asset.user_asset.email.blank? ? "-" : @asset.user_asset.email %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.models.site") %>
          </label>
          <span class="fus-readonly"><%= @asset.user_asset.site.name %></span>
        </div>

        <div class="mb-2">
          <label class="fus-label">
            <%= t("activerecord.models.department") %>
          </label>
          <span class="fus-readonly"><%= @asset.user_asset.department.blank? ? "-" : @asset.user_asset.department.name %></span>
        </div>
      </div>

      <div class="mb-2 p-4">
        <label class="fus-label">
          <%= t("activerecord.attributes.asset.description") %>
        </label>
        <span class="fus-readonly"><%= @asset.user_asset.description.blank? ? "-" : @asset.user_asset.description %></span>
      </div>
    </div>

    <!-- Asset components -->
    <h3 class="fus-form-header mt-8 bg-fus-blue text-white p-2 rounded-t">
        <%= t("custom.label.component_details") %>
    </h3>

    <div class="overflow-x-auto rounded-b">
      <div class="min-w-full bg-white overflow-x-auto max-h-[550px]">
        <table class="min-w-full bg-white">
          <thead class="rounded-lg">
            <tr class="bg-gray-200 text-xs text-gray-600 uppercase text-sm text-left leading-normal">
  
              <th class="sticky top-0 py-3 px-2 bg-gray-200 z-5 whitespace-nowrap z-10">
                <%= t("custom.label.component_type") %>
              </th>
  
              <th class="sticky top-0 py-3 px-2 bg-gray-200 z-5 whitespace-nowrap z-10">
                <%= t("custom.label.component") %>
              </th>
  
              <th class="sticky top-0 py-3 px-2 bg-gray-200 z-5 whitespace-nowrap z-10">
                <%= t("custom.label.serial_number") %>
              </th>
            </tr>
          </thead>
          <tbody class="text-gray-600 text-sm font-light">
            <%= render "show_component_details", asset_components: @asset.asset_components %>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Asset softwares -->
    <h3 class="fus-form-header mt-8 bg-fus-blue text-white p-2 rounded-t">
      <%= t("custom.label.software_details") %>
    </h3>

    <div class="overflow-x-auto rounded-t">
      <div class="min-w-full bg-white overflow-x-auto max-h-[550px]">
          <table class="min-w-full">
            <thead>
              <tr class="bg-gray-200 text-xs text-gray-600 uppercase text-sm text-left leading-normal">

                <th class="sticky top-0 py-3 px-2 bg-gray-200 z-5 whitespace-nowrap z-10">
                </th>
    
                <th class="sticky top-0 py-3 px-2 bg-gray-200 z-5 whitespace-nowrap z-10">
                  <%= t("activerecord.attributes.asset_software.software_id") %>
                </th>
    
                <th class="sticky top-0 py-3 px-2 bg-gray-200 z-5 whitespace-nowrap z-10">
                  <%= t("activerecord.attributes.asset_software.license") %>
                </th>
              </tr>
            </thead>
            <tbody class="text-gray-600 text-sm font-light">
              <%= render "show_asset_softwares", asset_softwares: @asset.asset_softwares %>
            </tbody>
          </table>
      </div>
    </div>

    <%= button_tag t("custom.label.cancel"),
      data: { action: "modal#hideModal" },
      class: "fus-secondary-btn md:w-[100px] mt-6"
    %>
    
	</div>
<% end %>


<% content_for(:title, t("custom.label.new_form", model: t("activerecord.models.asset")).capitalize) %>