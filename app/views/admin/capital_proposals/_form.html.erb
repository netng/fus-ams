<%= form_with model: [:admin, capital_proposal], data: { turbo_action: "advance" } do |form| %>

  <div class="md:grid grid-cols-2 gap-2">
    <div class="mb-2">
      <%= form.label :number, "#{t("activerecord.attributes.capital_proposal.number")} *", class: "fus-label mb-2" %>
      <%= form.text_field :number, class: "fus-input", required: true %>
      <% @capital_proposal.errors.full_messages_for(:number).each do |message| %>
        <p class="text-red-500 text-sm mt-1"><%= message %></p>
      <% end %>
    </div>

    <div class="mb-2">
      <%= form.label :real_number, "#{t("activerecord.attributes.capital_proposal.real_number")}", class: "fus-label mb-2" %>
      <%= form.text_field :real_number, class: "fus-input" %>
      <% @capital_proposal.errors.full_messages_for(:real_number).each do |message| %>
        <p class="text-red-500 text-sm mt-1"><%= message %></p>
      <% end %>
    </div>

    <div class="mb-2">
      <%= form.label :capital_proposal_type, "#{t("activerecord.models.capital_proposal_type")} *", class: "fus-label mb-2" %>
      <%= form.select :capital_proposal_type_id,
        CapitalProposalType.pluck(:name, :id).map { |name, id| [name.capitalize, id]},
        {include_blank: t("custom.label.select", model: t("activerecord.models.capital_proposal_type")).capitalize},
        { data: { controller: "slim-no-search" }, class: "fus-select" }
      %>
      <% @capital_proposal.errors.full_messages_for(:capital_proposal_type).each do |message| %>
        <p class="text-red-500 text-sm mt-1"><%= message %></p>
      <% end %>
    </div>
  
    <div class="mb-2">
      <%= form.label :capital_proposal_group, "#{t("activerecord.models.capital_proposal_group")} *", class: "fus-label mb-2" %>
      <%= form.select :capital_proposal_group_id,
        CapitalProposalGroup.pluck(:name, :id).map { |name, id| [name.capitalize, id]},
        {include_blank: t("custom.label.select", model: t("activerecord.models.capital_proposal_group")).capitalize},
        { data: { controller: "slim" }, class: "fus-select" }
      %>
      <% @capital_proposal.errors.full_messages_for(:capital_proposal_group).each do |message| %>
        <p class="text-red-500 text-sm mt-1"><%= message %></p>
      <% end %>
    </div>
    
    <div class="mb-2">
      <%= form.label :site, "#{t("activerecord.models.site")} *", class: "fus-label mb-2" %>
      <%= form.select :site_id,
        Site.pluck(:name, :id).map { |name, id| [name.capitalize, id]},
        {include_blank: t("custom.label.select", model: t("activerecord.models.site")).capitalize},
        { data: { controller: "slim" }, class: "fus-select" }
      %>
      <% @capital_proposal.errors.full_messages_for(:site).each do |message| %>
        <p class="text-red-500 text-sm mt-1"><%= message %></p>
      <% end %>
    </div>
  
    <div class="mb-2">
      <%= form.label :department, "#{t("activerecord.models.department")} *", class: "fus-label mb-2" %>
      <%= form.select :department_id,
        Department.pluck(:name, :id).map { |name, id| [name.capitalize, id]},
        {include_blank: t("custom.label.select", model: t("activerecord.models.department")).capitalize},
        { data: { controller: "slim" }, class: "fus-select" }
      %>
      <% @capital_proposal.errors.full_messages_for(:department).each do |message| %>
        <p class="text-red-500 text-sm mt-1"><%= message %></p>
      <% end %>
    </div>

    <div class="mb-2">
      <%= form.label :date, "#{t("activerecord.attributes.capital_proposal.date")} (yyyy-mm-dd) *", class: "fus-label mb-2" %>
      <%= form.text_field :date, class: "fus-input", required: true %>
      <% @capital_proposal.errors.full_messages_for(:date).each do |message| %>
        <p class="text-red-500 text-sm mt-1"><%= message %></p>
      <% end %>
    </div>
  
    <div class="mb-2">
      <%= form.label :description, "#{t("activerecord.attributes.capital_proposal.description")} *", class: "fus-label mb-2" %>
      <%= form.text_field :description, class: "fus-input", required: true %>
      <% @capital_proposal.errors.full_messages_for(:description).each do |message| %>
        <p class="text-red-500 text-sm mt-1"><%= message %></p>
      <% end %>
    </div>

    <div class="mb-2">
      <%= form.label :equiv_amount, "#{t("activerecord.attributes.capital_proposal.equiv_amount")} *", class: "fus-label mb-2" %>
      <div class="flex gap-2">
        <%= form.select :currency_id, Currency.pluck(:name, :id).map { |name, id| [name, id]}, {}, { data: { controller: "slim-no-search" }, class: "max-w-[100px] fus-select"} %>
        <%= form.number_field :equiv_amount, step: 1, class: "fus-input", required: true %>
        <% @capital_proposal.errors.full_messages_for(:equiv_amount).each do |message| %>
          <p class="text-red-500 text-sm mt-1"><%= message %></p>
        <% end %>
      </div>
    </div>
  
    <div class="mb-2">
      <%= form.label :rate, "#{t("activerecord.attributes.capital_proposal.rate")} (Rp.) *", class: "fus-label mb-2" %>
      <%= form.number_field :rate, step: 1, class: "fus-input", required: true %>
      <% @capital_proposal.errors.full_messages_for(:rate).each do |message| %>
        <p class="text-red-500 text-sm mt-1"><%= message %></p>
      <% end %>
    </div>
    
    <div class="mb-2">
      <%= form.label :budget_ref_number, "#{t("activerecord.attributes.capital_proposal.budget_ref_number")} *", class: "fus-label mb-2" %>
      <%= form.text_field :budget_ref_number, class: "fus-input", required: true %>
      <% @capital_proposal.errors.full_messages_for(:budget_ref_number).each do |message| %>
        <p class="text-red-500 text-sm mt-1"><%= message %></p>
      <% end %>
    </div>
  
    <div class="mb-2">
      <%= form.label :budget_amount, "#{t("activerecord.attributes.capital_proposal.budget_amount")} (Rp.) *", class: "fus-label mb-2" %>
      <%= form.number_field :budget_amount, step: 1, class: "fus-input", required: true %>
      <% @capital_proposal.errors.full_messages_for(:budget_amount).each do |message| %>
        <p class="text-red-500 text-sm mt-1"><%= message %></p>
      <% end %>
    </div>

    <div class="mb-2">
      <%= form.label :status, "#{t("activerecord.attributes.capital_proposal.status")} *", class: "fus-label mb-2" %>
      <%= form.select :status,
        [["Open", "Open"], ["Closed", "Closed"]],
        {},
        { data: { controller: "slim-no-search" }, class: "fus-select" }
      %>
      <% @capital_proposal.errors.full_messages_for(:status).each do |message| %>
        <p class="text-red-500 text-sm mt-1"><%= message %></p>
      <% end %>
    </div>

  </div>





  <div class="flex flex-col md:flex-row items-center md:gap-2 mt-4">
    <%= form.submit "#{t('custom.label.save')}",
      class: "bg-blue-400 w-full text-white px-4 py-2 rounded hover:bg-blue-600 hover:cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-300 mb-4 md:mb-0 md:w-auto"
    %>

    <%= link_to "#{t('custom.label.cancel')}",
      admin_capital_proposals_path,
      data: {
        turbo_action: "advance"
      },
      class: "text-center bg-slate-100 w-full px-4 py-2 rounded hover:bg-slate-200 hover:cursor-pointer focus:outline-none focus:ring-2 focus:ring-slate-300 mb-4 md:mb-0 md:w-auto"
    %>
  </div>
<% end %>