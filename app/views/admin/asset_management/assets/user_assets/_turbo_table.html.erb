<%= turbo_frame_tag "table_user_assets" do %>
	<%= form_with url: location_admin_asset_path,
		method: :patch,
		data: {
			turbo_action: "advance",
			action: "turbo:submit-end->modal#submitEnd"
		} do |form| %>
    <div class="overflow-x-auto mb-4 bg-slate-50 p-2 rounded-b">
			<div class="min-w-full bg-white rounded-lg overflow-x-auto max-h-[500px]">
				<table class="min-w-full bg-white table-auto" data-table-target="table">
					<thead class="rounded-lg">
					<tr class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal">
						<th class="sticky top-0 left-0 py-3 px-4 w-5 bg-gray-200 z-10">
						<div class="flex items-center space-x-2">
						</div>
						</th>

						<th class="sticky top-0 py-3 px-6 text-left bg-gray-200 whitespace-nowrap">
											<%= sort_link(@q, :id_user_asset, "#{t('activerecord.attributes.user_asset.id_user_asset')}",
												{
													data: {
														turbo_action: :advance,
														turbo_frame: "table_user_assets"
													}
												})
											%>
						</th>

						<th class="sticky top-0 py-3 px-6 text-left bg-gray-200 whitespace-nowrap">
											<%= sort_link(@q, :username, "#{t('activerecord.attributes.user_asset.username')}",
												{
													data: {
														turbo_action: :advance,
														turbo_frame: "table_user_assets"
													}
												})
											%>
						</th>

						<th class="sticky top-0 py-3 px-6 text-left bg-gray-200 whitespace-nowrap">
											<%= sort_link(@q, :email, "#{t('activerecord.attributes.user_asset.email')}",
												{
													data: {
														turbo_action: :advance,
														turbo_frame: "table_user_assets"
													}
												})
											%>
						</th>

						<th class="sticky top-0 py-3 px-6 text-left bg-gray-200 whitespace-nowrap">
											<%= sort_link(@q, :site_name, "#{t('activerecord.models.site')}", 
													{
														data: {
															turbo_action: :advance,
															turbo_frame: "table_user_assets"
														}
													})
											%>
						</th>
						
						<th class="sticky top-0 py-3 px-6 text-left bg-gray-200 whitespace-nowrap">
						<%= sort_link(@q, :department_name, "#{t('activerecord.models.department')}", 
											{
												data: {
													turbo_action: :advance,
													turbo_frame: "table_user_assets"
												}
											})
						%>
						</th>


						<th class="sticky top-0 py-3 px-6 text-left bg-gray-200 whitespace-nowrap">
						<%= t("activerecord.attributes.user_asset.description") %>
						</th>
					</tr>
					</thead>
					<tbody class="text-gray-600 text-sm font-light">
					<%= render "admin/asset_management/assets/user_assets/user_asset", user_assets: user_assets, form: form %>
					</tbody>
				</table>
			</div>
			<div class="flex justify-between items-center my-4 mx-4">
				<%== pagy_info(@pagy) %>
				<%== pagy_nav(@pagy, anchor_string: 'data-turbo-action="advance" data-action="click->table#resetDeleteButton"') %>
			</div>
		</div>

		<%= render "shared/sticky_bottom_action" do %>
			<%= form.submit t("custom.label.update"), 
				data: { turbo_frame: "main-content" },
				class: "fus-primary-btn md:w-[100px]"
			%>

			<%= button_tag t("custom.label.cancel"),
				data: { action: "modal#hideModal" },
				type: "button",
				class: "fus-secondary-btn md:w-[100px]"
			%>
		<% end %>

	<% end %>
<% end %>